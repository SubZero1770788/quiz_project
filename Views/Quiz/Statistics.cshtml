@model quiz_project.ViewModels.QuizStatisticsModel

<h3>Here's statistics for @Model.Title</h3>
@{
    var quizSummaryViewModel = @Model.quizSummaryViewModel;
}
<div class="container">
    <div class="row">
        Average points: @Model.AverageScore | Average percentage: @Model.ScorePercentage%
    </div>

    <div class="row">
        <h4>Your best attempt: @quizSummaryViewModel.Score / @quizSummaryViewModel.TotalScore </h4>
    </div>

    <div class="container">
        <h4>Leaderboard</h4>
        <div class="row">
            @for (int i = 0; i < @quizSummaryViewModel.TopPlayerScores.Count(); i++)
            {
                var playerScore = @quizSummaryViewModel.TopPlayerScores[i];

                <div id="score-@i">
                    @playerScore.UserName | score @playerScore.PlayerScore
                </div>
            }
        </div>
    </div>
    @foreach (var question in @Model.quizSummaryViewModel.Questions)
    {
        <div class="question">
            <h5>@question.Description</h5>
            <ul>
                @foreach (var answer in question.Answers)
                {
                    <li>@answer.Description - Chosen by @answer.SelectedByCount users</li>
                }
            </ul>
        </div>
    }
</div>
